# json2go

> 🛠️ Automatically generate Go structs from JSON data — with optional anonymous struct mode.

json2go 是一个命令行工具，用于从标准输入读取 JSON 并自动生成 Go 语言结构体代码。支持命名结构体或匿名结构体生成，适合快速处理 JSON 接口返回数据并生成模型结构。

---

## ✨ 特性 Features

- 自动推断 JSON 数据类型为 Go 类型
- 支持嵌套结构体
- 支持匿名结构体生成（便于临时测试或代码嵌套）
- 支持输出到指定文件
- 支持自定义包名

---

## 🚀 安装 Installation

clone 并 build：

```bash
git clone https://github.com/json2go/json2go.git
cd json2go
go build -o cmd/main .
```

---

## 🧪 使用方法 Usage

```bash
cat input.json | ./json2go -struct-name=MyStruct -anonymous=false -output=model.go -package=mypkg
```

### 参数说明：

| 参数            | 说明                                     |
|-----------------|------------------------------------------|
| `-struct-name`  | 指定根结构体名称，默认：`RootStruct`    |
| `-anonymous`    | 是否使用匿名结构体，默认：`false`       |
| `-output`       | 输出到的文件路径，默认输出到终端        |
| `-pkg`      | 输出文件的 package 名称，默认：`main`   |

---

## ✅ 示例 Example

输入：

```json
{
  "name": "Tom",
  "age": 30,
  "contact": {
    "email": "tom@example.com",
    "phone": "1234567890"
  }
}
```

执行：

```bash
cat example.json | ./json2go -struct-name Person -output model.go -pkg example
```

输出 `model.go` 内容：

```go
// Code generated by json2go. DO NOT EDIT.
package example

type Person struct {
    Name    string  `json:"name"`
    Age     int     `json:"age"`
    Contact struct {
        Email string `json:"email"`
        Phone string `json:"phone"`
    } `json:"contact"`
}
```

---

## ✍️ 作者 Author

[@xsean2020](https://github.com/xsean2020)

欢迎提 issue、PR 或 star ⭐️！
